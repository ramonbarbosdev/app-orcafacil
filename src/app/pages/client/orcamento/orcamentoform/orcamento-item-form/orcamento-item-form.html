<div class="mt-8">

    <!-- Header -->
    <div class="flex items-center justify-between mb-6">
        <h3 class="text-xl font-semibold text-gray-900">
            Itens / Serviços
        </h3>

        <button pButton type="button" icon="pi pi-plus" label="Adicionar Item" class="p-button-outlined"
            (click)="adicionarItem()">
        </button>
    </div>

    <!-- Cabeçalho -->
    <div class="grid grid-cols-[5fr_2fr_2fr_2fr_40px] gap-4
           text-xs uppercase text-gray-500 mb-3 px-2">
        <div>Descrição</div>
        <div class="text-center">Quantidade</div>
        <div class="text-right">Valor Unitário</div>
        <div class="text-right">Subtotal</div>
        <div></div>
    </div>

    <!-- Itens -->
    <div *ngFor="let item of itens; let i = index"
        [ngClass]="layoutService.isDarkTheme() ? 'bg-gray-800' : 'bg-gray-50'"
        class="grid grid-cols-[5fr_2fr_2fr_2fr_40px] gap-4 items-center rounded-xl p-4 mb-3">

        <!-- Descrição -->
        <input #descricaoInput pInputText [(ngModel)]="item.dsItem" placeholder="Descrição do item ou serviço"
            class="w-full" />

        <!-- Quantidade -->
        <input pInputText type="number" [(ngModel)]="item.qtItem" class="w-full text-center"
            (ngModelChange)="recalcular()" />

        <!-- Valor Unitário -->
        <p-inputNumber [(ngModel)]="item.vlPrecoUnitario" mode="currency" currency="BRL" locale="pt-BR"
            styleClass="w-full" inputStyleClass="w-full" (ngModelChange)="recalcular()">
        </p-inputNumber>

        <!-- Subtotal -->
        <div class="text-right font-medium">
            {{ item.vlPrecoTotal | currency:'BRL' }}
        </div>

        <!-- Remover -->
        <button pButton icon="pi pi-trash" class="p-button-text p-button-secondary" (click)="removerItem(i)">
        </button>

    </div>

    <p-divider></p-divider>


    <!-- Total -->
    <div class="flex justify-end mt-8">
        <div class="text-right">
            <div class="text-sm text-gray-500">Total</div>
            <div class="text-3xl font-semibold">
                {{ total | currency:'BRL':'symbol':'1.2-2':'pt-BR' }}
            </div>
        </div>
    </div>

</div>