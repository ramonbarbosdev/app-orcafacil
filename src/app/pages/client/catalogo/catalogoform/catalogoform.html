<app-layout-form-simples [(visible)]="isDialog" [title]="'Formulario de Catalogo'" [loading]="loading" (save)="onSave()"
  (cancel)="hideDialog()" (show)="onShow()" [width]="'900px'" [height]="'500px'">

  <div class="flex-row-responsive">
    <app-layout-campo [error]="errorValidacao['cdCatalogo']" [label]="'Código: (*)'" [width]="'md:w-4/12'"
      [sublabel]="'Informe o código'" [describedby]="'Informe o código'">
      <input title="cdCatalogo" pInputText id="cdCatalogo" [(ngModel)]="objeto.cdCatalogo" [disabled]="true"
        class="w-full" [ngClass]="{ 'ng-dirty ng-invalid': errorValidacao['cdCatalogo'] }" />
    </app-layout-campo>

    <app-layout-campo [error]="errorValidacao['nmCatalogo']" [label]="'Nome: (*)'" [width]="'w-8/12'"
      [sublabel]="'Informe o nome'" [describedby]="'nmCatalogo'">
      <input title="nmCatalogo" pInputText id="nmCatalogo" [(ngModel)]="objeto.nmCatalogo" class="w-full"
        [ngClass]="{ 'ng-dirty ng-invalid': errorValidacao['nmCatalogo'] }" placeholder="Ex: Porta" />
    </app-layout-campo>
  </div>

  <div class="flex-row-responsive">

    <app-layout-campo [label]="'Valor custo:'" [width]="'w-6/12'" [describedby]="'vlCustoBase'"
      [error]="errorValidacao['vlCustoBase']">
      <p-inputNumber name="vlCustoBase" id="vlCustoBase" [(ngModel)]="objeto.vlCustoBase" inputId="currency-br"
        mode="currency" currency="BRL" locale="pt-BR" [minFractionDigits]="2" [maxFractionDigits]="4" [max]="999999.99"
        [min]="0" placeholder="R$ 0,00"></p-inputNumber>
    </app-layout-campo>

    <app-layout-campo [label]="'Valor preço:'" [width]="'w-6/12'" [describedby]="'vlCustoBase'"
      [error]="errorValidacao['vlPrecoBase']">
      <p-inputNumber name="vlPrecoBase" id="vlPrecoBase" [(ngModel)]="objeto.vlPrecoBase" inputId="currency-br"
        mode="currency" currency="BRL" locale="pt-BR" [minFractionDigits]="2" [maxFractionDigits]="4" [max]="999999.99"
        [min]="0" placeholder="R$ 0,00" disabled></p-inputNumber>
    </app-layout-campo>

  </div>

  <div class="flex-row-responsive">
    <app-layout-campo [label]="'Descrição:'" [width]="'w-12/12'">
      <textarea pTextarea placeholder="Descrição do Matéria " [autoResize]="false" rows="3" cols="30" name="dsCatalogo"
        id="dsCatalogo" [(ngModel)]="objeto.dsCatalogo"
        [ngClass]="{ 'ng-dirty ng-invalid': errorValidacao['dsCatalogo'] }" maxlength="255"></textarea>
    </app-layout-campo>
  </div>


  <p-tabs *ngIf="carregarDados" value="0" [tabindex]="0" (valueChange)="onTabChange($event)" >
    <p-tablist>
      <p-tab value="0">Campos de Precificação</p-tab>
      <p-tab value="1">Ajustes Campos</p-tab>
      <p-tab value="2">Simulação</p-tab>
    </p-tablist>
    <p-tabpanels>
      <p-tabpanel value="0">
        <app-catalogocampoform #camposForm [carregarDados]="carregarDados" (valorPreco)="processarValorPreco($event)"></app-catalogocampoform>
      </p-tabpanel>
      <p-tabpanel value="1">
       <app-catalogocampoajusteform [objeto]="objeto" [carregarDados]="carregarDados"></app-catalogocampoajusteform>
      </p-tabpanel>
      <p-tabpanel value="2">
        <app-catalogocamposimulacaoform [objeto]="objeto" [carregarDados]="carregarDados"></app-catalogocamposimulacaoform>
      </p-tabpanel>
    </p-tabpanels>
  </p-tabs>


</app-layout-form-simples>